# 加密算法

加密：明文 + 密钥 = 密文
解密：密文 + 密钥 = 明文

## 对称加密

对称加密中，加密和解密的密钥是同一个。问题在于，如何安全的将密钥传输给对方。

常用的安全的对称加密算法：
- AES
- ChaCha20

### 分组模式

对称加密的分组模式是指，对明文加密时会分成多组操作，每组的加密过程之间会有一些逻辑。通过以下两种分组模式举例说明，虽然它们存在安全问题，不建议使用：
- 电子密码本模式（ECB）：这是最简单的分组模式。它将输入分成多个块，并对每个块单独进行加密。这种模式的缺点是相同的明文块会被加密成相同的密文块，因此可能会泄露一些信息；
- 密码块链接模式（CBC）：在这种模式中，每个明文块在加密之前会与前一个密文块进行异或操作。这意味着每个密文块都依赖于它前面的所有明文块。

最新的分组模式被称为 AEAD（Authenticated Encryption with Associated Data），在加密的同时增加了认证的功能，常用的是 GCM、CCM 和 Poly1305。

## 非对称加密

非对称加密中，有两个密钥：公钥和私钥。公钥公开给任何人使用，私钥必须严格保密。公钥加密的内容，只能用私钥解密；私钥加密的内容，只能用公钥解密。

常用的非对称加密算法：
- RSA：它的安全性基于“整数分解”的数学难题，使用两个超大素数的乘积作为生成密钥的材料，想要从公钥推算出私钥是非常困难的；
- ECC：它基于“椭圆曲线离散对数”的数学难题，使用特定的曲线方程和基点生成公钥和私钥，子算法 ECDHE 用于密钥交换，ECDSA 用于数字签名。

## 混合加密

对称加密性能高，但是密钥传输不安全；非对称加密安全，但是性能低。实际应用中，我们通常使用混合加密，即用非对称加密的方式，传输对称加密的密钥，然后双方使用对称加密的方式进行通信。